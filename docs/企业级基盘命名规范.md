企业级 Kubernetes / Helm / ArgoCD 命名规范
1️⃣ 总体原则

统一前缀：资源类型 + 组件名 + 功能角色。

可读性：小写字母 + - 分隔，缩写统一。

可扩展性：方便新组件和层级快速加入。

运维友好：便于监控、日志、告警和自动化检测。

2️⃣ Namespace 命名规则

格式：

ns-<层级>-<功能>


层级划分示例：

层级	Namespace 示例	描述
sys	ns-sys-edge	边缘计算/核心系统组件 (KubeEdge)
mid	ns-mid-storage	中间件存储层 (PostgreSQL, Redis)
app	ns-app-workflow	应用逻辑/工作流层 (n8n, Dify)
mod	ns-mod-ai	AI 模型/推理层 (Ollama, DeepSeek)
3️⃣ 核心资源对象命名规则

通用格式：

<类型缩写>-<组件名>-<角色>[-<环境/序号>]

类型	缩写	描述
Deployment	dep	无状态应用
StatefulSet	sts	有状态服务 (数据库/缓存)
Service	svc	服务入口
PersistentVolumeClaim	pvc	存储声明
ConfigMap	cm	配置文件
Secret	secret	密钥/证书

示例命名表：

组件	Deployment/StatefulSet	Service	PVC
KubeEdge	dep-edge-cloudcore	svc-edge-cloudcore	pvc-edge-config
PostgreSQL	sts-pg-ha	svc-pg-primary / svc-pg-replica	pvc-pg-data-0
Redis	sts-redis-cluster	svc-redis-master	pvc-redis-data-0
n8n	dep-n8n-engine	svc-n8n-api	pvc-n8n-shared
Dify	dep-dify-server / dep-dify-workers	svc-dify-api	pvc-dify-storage
Ollama	dep-ollama-engine	svc-ollama-endpoint	pvc-ollama-lib
DeepSeek	dep-deepseek-llm	svc-deepseek-api	pvc-deepseek-models
4️⃣ StorageClass 命名规则

格式：

sc-<介质>-<性能/用途>


示例：

StorageClass 名称	用途
sc-ssd-high	高性能存储，PostgreSQL / Redis
sc-nas-shared	共享文件存储，n8n / Dify
sc-gpu-cache	GPU 模型缓存，Ollama / DeepSeek
5️⃣ 节点标签命名规则
标签键	标签值	用途
infra/node-type	edge	边缘计算节点
infra/node-type	gpu	AI 推理节点
infra/node-type	data	数据库/缓存节点
infra/project	enterprise-ai	项目归属
6️⃣ 多环境命名规则（可选）

格式：

<类型缩写>-<组件名>-<角色>-<环境>


示例：

dep-n8n-engine-dev

svc-pg-primary-prod

7️⃣ 初期检测脚本 / Check List

命名规范检查：

# 检查不符合 dep-/sts-/svc-/pvc-/cm-/secret- 命名的资源
kubectl get all -A | grep -vE '^(dep-|sts-|svc-|pvc-|cm-|secret-)'


HA 状态检测：

# 检查所有 PVC 是否 Bound
kubectl get pvc -A -l "infra/project=enterprise-ai"

# 检查 GPU 节点资源分配
kubectl describe nodes -l infra/node-type=gpu | grep Allocated -A 5


ArgoCD 项目统一视图：

创建 Project：app-enterprise-ai-stack

关联所有 Namespace（ns-sys-edge, ns-mid-storage, ns-app-workflow, ns-mod-ai）

展示 dep-/sts- 树状结构

8️⃣ 总结

Namespace：ns-层级-功能

核心资源对象：类型缩写-组件名-角色[-环境/序号]

StorageClass：sc-介质-性能/用途

节点标签：infra/node-type=xx、infra/project=xx

检测：CI/ArgoCD 自动化校验命名规范和状态

✅ 可直接应用于企业级 Kubernetes + Helm + ArgoCD 多组件系统，方便团队协作和运维管理。
